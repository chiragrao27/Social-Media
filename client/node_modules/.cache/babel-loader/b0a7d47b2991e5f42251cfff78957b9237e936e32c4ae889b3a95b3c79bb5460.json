{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91797/Desktop/react_project/Social Media/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91797/Desktop/react_project/Social Media/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import Box from\"@mui/material/Box\";import Typography from\"@mui/material/Typography\";import{useTheme}from\"@mui/material\";import Friend from\"components/Friend\";import WidgetWrapper from\"components/WidgetWrapper\";import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{setFriends}from\"state\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FriendListWidget=function FriendListWidget(_ref){var userId=_ref.userId;var dispatch=useDispatch();var _useTheme=useTheme(),palette=_useTheme.palette;var token=useSelector(function(state){return state.token;});var friends=useSelector(function(state){return state.user.friends;});var getFriends=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/user/\".concat(userId,\"/friends\"),{method:'GET',headers:{Authorization:\"Bearer \".concat(token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;dispatch(setFriends({friends:data}));case 7:case\"end\":return _context.stop();}},_callee);}));return function getFriends(){return _ref2.apply(this,arguments);};}();useEffect(function(){getFriends();},[]);//eslint-disable-line react-hooks/exhaustive-deps \nreturn/*#__PURE__*/_jsxs(WidgetWrapper,{children:[/*#__PURE__*/_jsx(Typography,{color:palette.neutral.dark,variant:\"h5\",fontWeight:\"500\",sx:{mb:\"1.5rem\"},children:\"Friend List\"}),/*#__PURE__*/_jsx(Box,{display:\"flex\",flexDirection:\"column\",gap:\"1.5rem\",children:friends.map(function(friend){return/*#__PURE__*/_jsx(Friend,{friendId:friend._id,name:\"\".concat(friend.firstName,\" \").concat(friend.lastName),subtitle:friend.occupation,userPicturePath:friend.picturePath},friend._id);})})]});};export default FriendListWidget;","map":{"version":3,"names":["Box","Typography","useTheme","Friend","WidgetWrapper","useEffect","useDispatch","useSelector","setFriends","jsx","_jsx","jsxs","_jsxs","FriendListWidget","_ref","userId","dispatch","_useTheme","palette","token","state","friends","user","getFriends","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Authorization","sent","json","stop","apply","arguments","children","color","neutral","dark","variant","fontWeight","sx","mb","display","flexDirection","gap","map","friend","friendId","_id","name","firstName","lastName","subtitle","occupation","userPicturePath","picturePath"],"sources":["C:/Users/91797/Desktop/react_project/Social Media/client/src/scenes/widgets/FriendListWidget.jsx"],"sourcesContent":["import Box from \"@mui/material/Box\";\r\nimport  Typography  from \"@mui/material/Typography\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport Friend from \"components/Friend\";\r\nimport WidgetWrapper from \"components/WidgetWrapper\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport  { setFriends } from \"state\";\r\n\r\nconst FriendListWidget = ({ userId }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {palette} = useTheme();\r\n    const token = useSelector((state)=> state.token);\r\n    const friends = useSelector((state)=> state.user.friends);\r\n\r\n    const getFriends = async () => {\r\n        \r\n        const response = await fetch(`http://localhost:3001/user/${userId}/friends`,{\r\n            method: 'GET',\r\n            headers: {\r\n                \r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        const data = await response.json();\r\n        dispatch(setFriends({friends : data}));\r\n\r\n    };\r\n\r\n    useEffect(()=> {\r\n        getFriends();\r\n    }, []); //eslint-disable-line react-hooks/exhaustive-deps \r\n\r\n    return(\r\n        <WidgetWrapper>\r\n            <Typography\r\n            color={palette.neutral.dark}\r\n            variant=\"h5\"\r\n            fontWeight=\"500\"\r\n            sx={{ mb : \"1.5rem\"}}\r\n            >\r\n                Friend List\r\n            </Typography>\r\n            <Box display=\"flex\" flexDirection=\"column\"\r\n            gap=\"1.5rem\"\r\n            >\r\n                { friends.map((friend)=>(\r\n                    <Friend key={friend._id} \r\n                    friendId={friend._id}\r\n                    name={`${friend.firstName} ${friend.lastName}`}\r\n                    subtitle={friend.occupation}\r\n                    userPicturePath={friend.picturePath}\r\n                    />\r\n                ))}\r\n\r\n            </Box>\r\n        </WidgetWrapper>\r\n    )\r\n}\r\n\r\nexport default FriendListWidget;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}