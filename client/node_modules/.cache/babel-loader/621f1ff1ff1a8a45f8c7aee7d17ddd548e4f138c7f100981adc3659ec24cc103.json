{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91797/Desktop/react_project/Social Media/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91797/Desktop/react_project/Social Media/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{PersonAddOutlined,PersonRemoveOutlined}from\"@mui/icons-material\";import Box from\"@mui/material/Box\";import Typography from\"@mui/material/Typography\";import{IconButton,useTheme}from\"@mui/material\";import{useDispatch,useSelector}from\"react-redux\";import{setFriends}from\"state\";import FlexBetween from\"./FlexBetween\";import UserImage from\"./UserImage\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Friend=function Friend(_ref){var friendId=_ref.friendId,name=_ref.name,subtitle=_ref.subtitle,userPicturePath=_ref.userPicturePath;var _useTheme=useTheme(),palette=_useTheme.palette;var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.user;}),_id=_useSelector._id;var token=useSelector(function(state){return state.token;});var friends=useSelector(function(state){return state.user.friends;});var primaryLight=palette.primary.light;var primaryDark=palette.primary.dark;var main=palette.neutral.main;var medium=palette.neutral.medium;var isFriend=friends.find(function(friend){return friend._id===friendId;});var patchFriend=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/user/\".concat(_id,\"/\").concat(friendId),{method:\"PATCH\",headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;dispatch(setFriends({friends:data}));case 7:case\"end\":return _context.stop();}},_callee);}));return function patchFriend(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(FlexBetween,{children:[/*#__PURE__*/_jsxs(FlexBetween,{gap:\"1rem\",children:[/*#__PURE__*/_jsx(UserImage,{image:userPicturePath,size:\"55px\"}),/*#__PURE__*/_jsxs(Box,{onClick:function onClick(){navigate(\"/profile/\".concat(friendId));navigate(0);},children:[/*#__PURE__*/_jsx(Typography,{color:main,variant:\"h5\",fontWeight:\"500\",sx:{\"&:hover\":{color:palette.primary.light,cursor:\"pointer\"}},children:name}),/*#__PURE__*/_jsx(Typography,{color:medium,fontSize:\"0.75rem\",children:subtitle})]})]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return patchFriend();},sx:{backgroundColor:primaryLight,p:\"0.6rem\"},children:isFriend?/*#__PURE__*/_jsx(PersonRemoveOutlined,{sx:{color:primaryDark}}):/*#__PURE__*/_jsx(PersonAddOutlined,{sx:{color:primaryDark}})})]});};export default Friend;","map":{"version":3,"names":["PersonAddOutlined","PersonRemoveOutlined","Box","Typography","IconButton","useTheme","useDispatch","useSelector","setFriends","FlexBetween","UserImage","useNavigate","jsx","_jsx","jsxs","_jsxs","Friend","_ref","friendId","name","subtitle","userPicturePath","_useTheme","palette","dispatch","navigate","_useSelector","state","user","_id","token","friends","primaryLight","primary","light","primaryDark","dark","main","neutral","medium","isFriend","find","friend","patchFriend","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Authorization","sent","json","stop","apply","arguments","children","gap","image","size","onClick","color","variant","fontWeight","sx","cursor","fontSize","backgroundColor","p"],"sources":["C:/Users/91797/Desktop/react_project/Social Media/client/src/components/Friend.jsx"],"sourcesContent":["import { PersonAddOutlined,\r\n    PersonRemoveOutlined\r\n} from \"@mui/icons-material\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { IconButton, useTheme } from \"@mui/material\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { setFriends } from \"state\";\r\nimport FlexBetween from \"./FlexBetween\";\r\nimport UserImage from \"./UserImage\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst Friend = ({friendId, name, subtitle, userPicturePath}) => {\r\n    const {palette} = useTheme();\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const {_id} = useSelector((state) => state.user);\r\n    const token = useSelector((state) => state.token);\r\n\r\n    const friends = useSelector((state) => state.user.friends);\r\n    \r\n    const primaryLight = palette.primary.light;\r\n    const primaryDark = palette.primary.dark;\r\n    const main = palette.neutral.main;\r\n    const medium = palette.neutral.medium;\r\n\r\n    const isFriend = friends.find((friend) => friend._id === friendId);\r\n\r\n    const patchFriend = async () => {\r\n        const response = await fetch(`http://localhost:3001/user/${_id}/${friendId}`,\r\n        {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }\r\n        )\r\n        const data = await response.json();\r\n        dispatch(setFriends({friends : data}));\r\n    }\r\n\r\n    return (\r\n        <FlexBetween>\r\n            <FlexBetween gap=\"1rem\">\r\n                <UserImage image={userPicturePath} size=\"55px\"/>\r\n                <Box\r\n                onClick ={()=>{\r\n                    navigate(`/profile/${friendId}`);\r\n                    navigate(0);\r\n                }}\r\n                >\r\n                    <Typography\r\n                    color= {main}\r\n                    variant=\"h5\"\r\n                    fontWeight=\"500\"\r\n                    sx={{\r\n                        \"&:hover\" : {\r\n                            color: palette.primary.light,\r\n                            cursor: \"pointer\"\r\n                        }\r\n                    }}\r\n                    >\r\n                        {name}\r\n                    </Typography>\r\n\r\n                    <Typography color={medium} \r\n                    fontSize=\"0.75rem\">\r\n                        {subtitle}\r\n                    </Typography>\r\n                </Box>\r\n            </FlexBetween>\r\n            <IconButton\r\n            onClick={()=> patchFriend()}\r\n            sx={{\r\n                backgroundColor: primaryLight,\r\n                p:\"0.6rem\"\r\n            }}\r\n            >\r\n                {isFriend ? (\r\n                    <PersonRemoveOutlined sx={{\r\n                        color: primaryDark\r\n                    }} />\r\n                ) : (<PersonAddOutlined sx={{\r\n                    color: primaryDark\r\n                }} />)\r\n                }\r\n\r\n            </IconButton>\r\n        </FlexBetween>\r\n    )\r\n\r\n}\r\n\r\nexport default Friend;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}