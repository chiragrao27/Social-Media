{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91797/Desktop/react_project/Social Media/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91797/Desktop/react_project/Social Media/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/91797/Desktop/react_project/Social Media/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Box from\"@mui/material/Box\";import{useMediaQuery}from\"@mui/material\";import{useSelector}from\"react-redux\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import FriendListWidget from\"scenes/widgets/FriendListWidget\";import MyPostWidget from\"scenes/widgets/MyPostWidget\";import PostsWidget from\"scenes/widgets/PostsWidget\";import UserWidget from\"scenes/widgets/UserWidgets\";import Navbar from\"scenes/navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfilePage=function ProfilePage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useParams=useParams(),userId=_useParams.userId;var token=useSelector(function(state){return state.token;});var isNonMobileScreens=useMediaQuery(\"(min-width:1000px\");var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/user/\".concat(userId),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setUser(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();useEffect(function(){getUser();},[]);//eslint-disable-line react-hooks/exhaustive-deps\nif(!user)return null;return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Box,{width:\"100%\",padding:\"2rem 6%\",display:isNonMobileScreens?\"flex\":\"block\",gap:\"2rem\",justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(Box,{flexBasis:isNonMobileScreens?\"26%\":undefined,children:[/*#__PURE__*/_jsx(UserWidget,{userId:userId,picturePath:user.picturePath}),/*#__PURE__*/_jsx(Box,{m:\"2rem 0\"}),/*#__PURE__*/_jsx(FriendListWidget,{userId:userId})]}),/*#__PURE__*/_jsxs(Box,{flexBasis:isNonMobileScreens?\"42%\":undefined,mt:isNonMobileScreens?undefined:\"2rem\",children:[/*#__PURE__*/_jsx(MyPostWidget,{picturePath:user.picturePath}),/*#__PURE__*/_jsx(Box,{m:\"2rem 0\"}),/*#__PURE__*/_jsx(PostsWidget,{userId:userId,isProfile:true})]})]})]});};export default ProfilePage;","map":{"version":3,"names":["Box","useMediaQuery","useSelector","useEffect","useState","useParams","FriendListWidget","MyPostWidget","PostsWidget","UserWidget","Navbar","jsx","_jsx","jsxs","_jsxs","ProfilePage","_useState","_useState2","_slicedToArray","user","setUser","_useParams","userId","token","state","isNonMobileScreens","getUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Authorization","sent","json","stop","apply","arguments","children","width","padding","display","gap","justifyContent","flexBasis","undefined","picturePath","m","mt","isProfile"],"sources":["C:/Users/91797/Desktop/react_project/Social Media/client/src/scenes/profilePage/index.jsx"],"sourcesContent":["import Box from \"@mui/material/Box\"\r\nimport { useMediaQuery } from \"@mui/material\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\n\r\n\r\nimport FriendListWidget from \"scenes/widgets/FriendListWidget\"\r\nimport MyPostWidget from \"scenes/widgets/MyPostWidget\"\r\nimport PostsWidget from \"scenes/widgets/PostsWidget\"\r\nimport UserWidget from \"scenes/widgets/UserWidgets\"\r\nimport Navbar from \"scenes/navbar\"\r\n\r\n\r\n\r\nconst ProfilePage = () => {\r\n\r\n  const [user, setUser] = useState(null);\r\n  const {userId} = useParams();\r\n  const token = useSelector((state) => state.token);\r\n  const isNonMobileScreens = useMediaQuery(\"(min-width:1000px\");\r\n  \r\n  const getUser = async () => {\r\n    const response = await fetch(`http://localhost:3001/user/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n    const data = await response.json();\r\n    setUser(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n      getUser();\r\n    }, []); //eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  if(!user) return null;\r\n  \r\n  return (\r\n    <Box>\r\n      <Navbar/>\r\n      <Box\r\n      width=\"100%\"\r\n      padding=\"2rem 6%\"\r\n      display={isNonMobileScreens ? \"flex\" : \"block\"}\r\n      gap=\"2rem\"\r\n      justifyContent=\"center\"\r\n      >\r\n\r\n        <Box flexBasis={isNonMobileScreens ? \"26%\" : undefined} >\r\n          <UserWidget userId={userId} picturePath={user.picturePath}/>\r\n          <Box m=\"2rem 0\"/>\r\n          <FriendListWidget userId={userId} />\r\n        </Box>\r\n        <Box\r\n        flexBasis={isNonMobileScreens?  \"42%\" : undefined }\r\n        mt={isNonMobileScreens ? undefined : \"2rem\"}\r\n\r\n        >\r\n          <MyPostWidget picturePath={user.picturePath} />\r\n          <Box m=\"2rem 0\"/>\r\n          <PostsWidget userId={userId} isProfile/>\r\n\r\n        </Box>\r\n        \r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default ProfilePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}